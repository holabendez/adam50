<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Adam</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #f3f4f6;
        }
    </style>
    <!-- Load the YouTube IFrame Player API code asynchronously. -->
    <script src="https://www.youtube.com/iframe_api"></script>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="bg-black rounded-xl shadow-2xl p-6 md:p-10 w-full max-w-6xl">
        <!-- Image and Video containers -->
        <div id="media-container" class="relative w-full aspect-video mb-6 rounded-lg overflow-hidden shadow-lg">
            <!-- Initial/Intermediate Image Container -->
            <div id="image-container" class="absolute inset-0 flex items-center justify-center">
                <img src="https://i.imgur.com/g3BnHrE.png" alt="Happy Birthday Adam" class="w-full h-full object-cover">
            </div>

            <!-- Video Player -->
            <div id="video-player-container" class="absolute inset-0 hidden bg-black"></div>
        </div>

        <!-- Controls and Status -->
        <div class="flex items-center justify-center space-x-4">
            <button id="prev-btn" class="w-full md:w-auto px-6 py-3 bg-gray-600 text-white font-semibold rounded-full shadow-lg hover:bg-gray-700 transition transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed hidden">
                Previous
            </button>
            <button id="next-btn" class="w-full md:w-auto px-6 py-3 bg-indigo-600 text-white font-semibold rounded-full shadow-lg hover:bg-indigo-700 transition transform hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
                Start
            </button>
        </div>
        <div id="status-message" class="text-gray-500 text-sm md:text-base font-medium text-center mt-4">
            Click Start to Begin.
        </div>

    </div>

    <script>
        // This is a special function that the YouTube API will call once it is ready.
        let player;
        function onYouTubeIframeAPIReady() {
            // All event listeners and core logic are now placed inside this function
            // to ensure they only run after the YT.Player object is available.
            
            player = new YT.Player('video-player-container', {
                height: '100%',
                width: '100%',
                playerVars: {
                    'playsinline': 1,
                    'autoplay': 1,
                    'controls': 0,
                    'modestbranding': 1,
                    'iv_load_policy': 3,
                    'disablekb': 1,
                    'fs': 0,
                    'rel': 0,
                },
                events: {
                    'onReady': onPlayerReady,
                    'onStateChange': onPlayerStateChange
                }
            });

            const nextButton = document.getElementById('next-btn');
            const prevButton = document.getElementById('prev-btn');
            const statusMessage = document.getElementById('status-message');
            const imageContainer = document.getElementById('image-container');
            const videoPlayerContainer = document.getElementById('video-player-container');

            const videoSources = [
                'DEUII1H_AT0',
                'rHjTcrCIJbM',
                'QyvuFXcXDu0',
                'QlgkcWXW5ig',
                'QyvuFXcXDu0',
                'c0CLhNoDciI',
                'QyvuFXcXDu0',
                'k3b9zMZZp4M',
                'QyvuFXcXDu0',
                'ZDXdYv710sI',
                'QyvuFXcXDu0',
                'ArHU8pkvJPA',
                'QyvuFXcXDu0',
                '46UN6-Gy7s8',
                'QyvuFXcXDu0',
                'D305gwnJfxA',
                'QyvuFXcXDu0',
                'KXsvGB0YvY4',
                'QyvuFXcXDu0',
                '2iCDHMu-8UY',
                'QyvuFXcXDu0',
                'lbU7zFKlE3E',
                'QyvuFXcXDu0',
                'wpFXuXF-4kQ'
            ];

            let currentVideoIndex = 0;
            let hasStarted = false;

            function onPlayerReady(event) {
                console.log("YouTube Player is ready.");
                event.target.playVideo();
            }

            function onPlayerStateChange(event) {
                if (event.data === YT.PlayerState.ENDED) {
                    console.log("Video ended. Playing next video automatically.");
                    playNextVideo();
                }
            }

            function playNextVideo() {
                if (currentVideoIndex === videoSources.length - 1) {
                    // Reset to the beginning
                    player.stopVideo();
                    videoPlayerContainer.classList.add('hidden');
                    imageContainer.classList.remove('hidden');
                    nextButton.textContent = 'Start';
                    prevButton.classList.add('hidden');
                    hasStarted = false;
                    statusMessage.textContent = 'Click Start to Begin.';
                    currentVideoIndex = 0;
                } else {
                    currentVideoIndex++;
                    player.loadVideoById(videoSources[currentVideoIndex]);
                    statusMessage.textContent = `Now playing video ${currentVideoIndex + 1} of ${videoSources.length}...`;
                }
            }

            function playPreviousVideo() {
                if (currentVideoIndex === 0) {
                    player.stopVideo();
                    videoPlayerContainer.classList.add('hidden');
                    imageContainer.classList.remove('hidden');
                    nextButton.textContent = 'Start';
                    prevButton.classList.add('hidden');
                    hasStarted = false;
                    statusMessage.textContent = 'Click Start to Begin.';
                    currentVideoIndex = 0; // Reset index for the next start
                } else {
                    currentVideoIndex = currentVideoIndex - 1;
                    player.loadVideoById(videoSources[currentVideoIndex]);
                    player.playVideo();
                    statusMessage.textContent = `Now playing video ${currentVideoIndex + 1} of ${videoSources.length}...`;
                }
            }

            nextButton.addEventListener('click', () => {
                if (!hasStarted) {
                    hasStarted = true;
                    imageContainer.classList.add('hidden');
                    videoPlayerContainer.classList.remove('hidden');
                    nextButton.textContent = 'Next';
                    prevButton.classList.remove('hidden');
                    player.loadVideoById(videoSources[0]);
                    statusMessage.textContent = `Loading first video...`;
                } else {
                    playNextVideo();
                }
            });

            prevButton.addEventListener('click', () => {
                if (hasStarted) {
                    playPreviousVideo();
                }
            });
        }
    </script>
</body>
</html>
